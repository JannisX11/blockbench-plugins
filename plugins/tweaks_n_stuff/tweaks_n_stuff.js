var D={};var E={};var B={"settings.header_color":"Header Color","settings.header_color.desc":"Sets the color of the header depending on the profile color.","settings.close_actions":"Close Actions","settings.close_actions.desc":"Adds 'Close Others', 'Close to the Right', 'Close Saved', and 'Close All' to the project context menu, opened by right-clicking on a project tab.","settings.pin_tab":"Pin Tab","settings.pin_tab.desc":"Adds 'Pin Tab' and 'Unpin Tab' to the project context menu, opened by right-clicking on a project tab.","settings.wrap_tabs":"Wrap Tabs","settings.wrap_tabs.desc":"Controls whether tabs should be wrapped over multiple lines when exceeding available space or whether a scrollbar should appear instead.","action.close_others":"Close Others","action.close_others.desc":"Close all tabs but this one.","action.close_right":"Close to the Right","action.close_right.desc":"Close all tabs to the right.","action.close_saved":"Close Saved","action.close_saved.desc":"Close all saved tabs.","action.close_all":"Close All","action.close_all.desc":"Close all tabs.","action.pin_tab":"Pin Tab","action.pin_tab.desc":"desc","action.unpin_tab":"Unpin Tab","action.unpin_tab.desc":"desc"};var L={};var F={};var I={};var O={};var N={};var z={};var U={};var V={};var G={};var q={};var Q={};var K={};var J={};var W={};Language.addTranslations("cz",D);Language.addTranslations("de",E);Language.addTranslations("en",B);Language.addTranslations("es",L);Language.addTranslations("fr",F);Language.addTranslations("it",I);Language.addTranslations("ja",O);Language.addTranslations("ko",N);Language.addTranslations("nl",z);Language.addTranslations("pl",U);Language.addTranslations("pt",V);Language.addTranslations("ru",G);Language.addTranslations("sv",q);Language.addTranslations("uk",Q);Language.addTranslations("vi",K);Language.addTranslations("zh_tw",J);Language.addTranslations("zh",W);var X="1.1.0",w="tweaks_n_stuff";function x(e,t){let i=0;function n(){t(e[i],i),i++,i<e.length&&requestAnimationFrame(n)}n()}function _(e){try{e()}catch(t){console.error(t)}}var b=class e{static all=new Map;static dialog;static action;id;author;category;condition;pluginId;setting;name;description;isActive=!1;deleteables;constructor(t,i){this.id=t,this.name=i?.name,this.description=i?.description,this.author=i?.author??"unset",this.category=i?.category??"unset",this.condition=i?.condition??!0,this.pluginId=w,this.deleteables=[],this.setup(),e.all.set(this.id,this),console.debug(`\u{1F527} Registered tweak "${this.id}"`)}createConfig(){return{enabled:!0}}get config(){return y.settings[this.id]}set config(t){y.settings[this.id]=t}load(){this.setup(),_(this.onLoad.bind(this))}unload(){_(this.onUnload.bind(this)),this.delete()}install(){_(this.onInstall.bind(this))}uninstall(){_(this.onUninstall.bind(this))}delete(){this.deleteables.forEach(t=>t.delete()),this.setting&&this.setting.delete()}enable(){console.debug(`\u2705 Enabled tweak "${this.id}"`),this.isActive=!0}disable(){this.deleteables.forEach(t=>t.delete()),this.isActive&&console.debug(`\u274C Disabled tweak "${this.id}"`)}setup(){}onLoad(){}onUnload(){}onInstall(){}onUninstall(){}},v=class extends b{defaultValue;constructor(t,i,n=!0){super(t,i),this.defaultValue=n}get disabled(){return!(Settings.get(this.id)??!1)}setup(){this.isActive=!1,this.setting=new Setting(this.id,{name:this.name,type:"toggle",value:this.defaultValue,description:this.description,category:this.category,condition:this.condition,onChange:t=>this.change(t)})}enable(){super.enable(),this.onEnable&&_(this.onEnable.bind(this))}disable(){super.disable(),this.isActive&&(this.isActive=!1,this.onDisable&&_(this.onDisable.bind(this)))}change(t){if(this.onChange&&this.onChange(t),this.disable(),!!t)return this.enable()}onLoad(){this.disabled||this.enable()}onUnload(){this.disable()}};var y=class e{static settings={};static load(){var t=localStorage.getItem("tweaks_n_stuff.config");if(!t){e.settings={};for(let i of b.all.values())e.settings[i.id]=i.createConfig();return e.save()}e.settings=JSON.parse(t)}static save(){localStorage.setItem("tweaks_n_stuff.config",JSON.stringify(e.settings))}};var M=class e{static selectProfile;static unselectProfile;static hideDialog;static showDialog;static load(){this.selectProfile=SettingsProfile.prototype.select,SettingsProfile.prototype.select=function(...t){e.selectProfile.apply(this,t),Blockbench.dispatchEvent("profile_changed",{profile:SettingsProfile.selected})},this.unselectProfile=SettingsProfile.unselect,SettingsProfile.unselect=function(...t){e.unselectProfile.apply(this,t),Blockbench.dispatchEvent("profile_changed",{profile:null})},this.hideDialog=Dialog.prototype.hide,Dialog.prototype.hide=function(...t){return Blockbench.dispatchEvent("hide_dialog",Dialog.open),e.hideDialog.apply(this,t)},this.showDialog=Dialog.prototype.show,Dialog.prototype.show=function(...t){let i=e.showDialog.apply(this,t);return Blockbench.dispatchEvent("show_dialog",Dialog.open),i}}static unload(){SettingsProfile.prototype.select=e.selectProfile,SettingsProfile.unselect=e.unselectProfile,Dialog.prototype.hide=e.hideDialog,Dialog.prototype.show=e.showDialog}};function A(e){"@babel/helpers - typeof";return A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A(e)}var Me=/^\s+/,Se=/\s+$/;function o(e,t){if(e=e||"",t=t||{},e instanceof o)return e;if(!(this instanceof o))return new o(e,t);var i=we(e);this._originalInput=e,this._r=i.r,this._g=i.g,this._b=i.b,this._a=i.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||i.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=i.ok}o.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},getLuminance:function(){var t=this.toRgb(),i,n,a,r,s,l;return i=t.r/255,n=t.g/255,a=t.b/255,i<=.03928?r=i/12.92:r=Math.pow((i+.055)/1.055,2.4),n<=.03928?s=n/12.92:s=Math.pow((n+.055)/1.055,2.4),a<=.03928?l=a/12.92:l=Math.pow((a+.055)/1.055,2.4),.2126*r+.7152*s+.0722*l},setAlpha:function(t){return this._a=re(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=Y(this._r,this._g,this._b);return{h:t.h*360,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=Y(this._r,this._g,this._b),i=Math.round(t.h*360),n=Math.round(t.s*100),a=Math.round(t.v*100);return this._a==1?"hsv("+i+", "+n+"%, "+a+"%)":"hsva("+i+", "+n+"%, "+a+"%, "+this._roundA+")"},toHsl:function(){var t=Z(this._r,this._g,this._b);return{h:t.h*360,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=Z(this._r,this._g,this._b),i=Math.round(t.h*360),n=Math.round(t.s*100),a=Math.round(t.l*100);return this._a==1?"hsl("+i+", "+n+"%, "+a+"%)":"hsla("+i+", "+n+"%, "+a+"%, "+this._roundA+")"},toHex:function(t){return ee(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return Ce(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(c(this._r,255)*100)+"%",g:Math.round(c(this._g,255)*100)+"%",b:Math.round(c(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(c(this._r,255)*100)+"%, "+Math.round(c(this._g,255)*100)+"%, "+Math.round(c(this._b,255)*100)+"%)":"rgba("+Math.round(c(this._r,255)*100)+"%, "+Math.round(c(this._g,255)*100)+"%, "+Math.round(c(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:ze[ee(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var i="#"+te(this._r,this._g,this._b,this._a),n=i,a=this._gradientType?"GradientType = 1, ":"";if(t){var r=o(t);n="#"+te(r._r,r._g,r._b,r._a)}return"progid:DXImageTransform.Microsoft.gradient("+a+"startColorstr="+i+",endColorstr="+n+")"},toString:function(t){var i=!!t;t=t||this._format;var n=!1,a=this._a<1&&this._a>=0,r=!i&&a&&(t==="hex"||t==="hex6"||t==="hex3"||t==="hex4"||t==="hex8"||t==="name");return r?t==="name"&&this._a===0?this.toName():this.toRgbString():(t==="rgb"&&(n=this.toRgbString()),t==="prgb"&&(n=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(n=this.toHexString()),t==="hex3"&&(n=this.toHexString(!0)),t==="hex4"&&(n=this.toHex8String(!0)),t==="hex8"&&(n=this.toHex8String()),t==="name"&&(n=this.toName()),t==="hsl"&&(n=this.toHslString()),t==="hsv"&&(n=this.toHsvString()),n||this.toHexString())},clone:function(){return o(this.toString())},_applyModification:function(t,i){var n=t.apply(null,[this].concat([].slice.call(i)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(De,arguments)},brighten:function(){return this._applyModification(Ee,arguments)},darken:function(){return this._applyModification(Be,arguments)},desaturate:function(){return this._applyModification(Te,arguments)},saturate:function(){return this._applyModification(Re,arguments)},greyscale:function(){return this._applyModification(He,arguments)},spin:function(){return this._applyModification(Le,arguments)},_applyCombination:function(t,i){return t.apply(null,[this].concat([].slice.call(i)))},analogous:function(){return this._applyCombination(Oe,arguments)},complement:function(){return this._applyCombination(Fe,arguments)},monochromatic:function(){return this._applyCombination(Ne,arguments)},splitcomplement:function(){return this._applyCombination(Ie,arguments)},triad:function(){return this._applyCombination(ie,[3])},tetrad:function(){return this._applyCombination(ie,[4])}};o.fromRatio=function(e,t){if(A(e)=="object"){var i={};for(var n in e)e.hasOwnProperty(n)&&(n==="a"?i[n]=e[n]:i[n]=S(e[n]));e=i}return o(e,t)};function we(e){var t={r:0,g:0,b:0},i=1,n=null,a=null,r=null,s=!1,l=!1;return typeof e=="string"&&(e=Ge(e)),A(e)=="object"&&(m(e.r)&&m(e.g)&&m(e.b)?(t=Ae(e.r,e.g,e.b),s=!0,l=String(e.r).substr(-1)==="%"?"prgb":"rgb"):m(e.h)&&m(e.s)&&m(e.v)?(n=S(e.s),a=S(e.v),t=je(e.h,n,a),s=!0,l="hsv"):m(e.h)&&m(e.s)&&m(e.l)&&(n=S(e.s),r=S(e.l),t=Pe(e.h,n,r),s=!0,l="hsl"),e.hasOwnProperty("a")&&(i=e.a)),i=re(i),{ok:s,format:e.format||l,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:i}}function Ae(e,t,i){return{r:c(e,255)*255,g:c(t,255)*255,b:c(i,255)*255}}function Z(e,t,i){e=c(e,255),t=c(t,255),i=c(i,255);var n=Math.max(e,t,i),a=Math.min(e,t,i),r,s,l=(n+a)/2;if(n==a)r=s=0;else{var h=n-a;switch(s=l>.5?h/(2-n-a):h/(n+a),n){case e:r=(t-i)/h+(t<i?6:0);break;case t:r=(i-e)/h+2;break;case i:r=(e-t)/h+4;break}r/=6}return{h:r,s,l}}function Pe(e,t,i){var n,a,r;e=c(e,360),t=c(t,100),i=c(i,100);function s(u,k,f){return f<0&&(f+=1),f>1&&(f-=1),f<1/6?u+(k-u)*6*f:f<1/2?k:f<2/3?u+(k-u)*(2/3-f)*6:u}if(t===0)n=a=r=i;else{var l=i<.5?i*(1+t):i+t-i*t,h=2*i-l;n=s(h,l,e+1/3),a=s(h,l,e),r=s(h,l,e-1/3)}return{r:n*255,g:a*255,b:r*255}}function Y(e,t,i){e=c(e,255),t=c(t,255),i=c(i,255);var n=Math.max(e,t,i),a=Math.min(e,t,i),r,s,l=n,h=n-a;if(s=n===0?0:h/n,n==a)r=0;else{switch(n){case e:r=(t-i)/h+(t<i?6:0);break;case t:r=(i-e)/h+2;break;case i:r=(e-t)/h+4;break}r/=6}return{h:r,s,v:l}}function je(e,t,i){e=c(e,360)*6,t=c(t,100),i=c(i,100);var n=Math.floor(e),a=e-n,r=i*(1-t),s=i*(1-a*t),l=i*(1-(1-a)*t),h=n%6,u=[i,s,r,r,l,i][h],k=[l,i,i,s,r,r][h],f=[r,r,l,i,i,s][h];return{r:u*255,g:k*255,b:f*255}}function ee(e,t,i,n){var a=[p(Math.round(e).toString(16)),p(Math.round(t).toString(16)),p(Math.round(i).toString(16))];return n&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function Ce(e,t,i,n,a){var r=[p(Math.round(e).toString(16)),p(Math.round(t).toString(16)),p(Math.round(i).toString(16)),p(ae(n))];return a&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)&&r[3].charAt(0)==r[3].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0)+r[3].charAt(0):r.join("")}function te(e,t,i,n){var a=[p(ae(n)),p(Math.round(e).toString(16)),p(Math.round(t).toString(16)),p(Math.round(i).toString(16))];return a.join("")}o.equals=function(e,t){return!e||!t?!1:o(e).toRgbString()==o(t).toRgbString()};o.random=function(){return o.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function Te(e,t){t=t===0?0:t||10;var i=o(e).toHsl();return i.s-=t/100,i.s=P(i.s),o(i)}function Re(e,t){t=t===0?0:t||10;var i=o(e).toHsl();return i.s+=t/100,i.s=P(i.s),o(i)}function He(e){return o(e).desaturate(100)}function De(e,t){t=t===0?0:t||10;var i=o(e).toHsl();return i.l+=t/100,i.l=P(i.l),o(i)}function Ee(e,t){t=t===0?0:t||10;var i=o(e).toRgb();return i.r=Math.max(0,Math.min(255,i.r-Math.round(255*-(t/100)))),i.g=Math.max(0,Math.min(255,i.g-Math.round(255*-(t/100)))),i.b=Math.max(0,Math.min(255,i.b-Math.round(255*-(t/100)))),o(i)}function Be(e,t){t=t===0?0:t||10;var i=o(e).toHsl();return i.l-=t/100,i.l=P(i.l),o(i)}function Le(e,t){var i=o(e).toHsl(),n=(i.h+t)%360;return i.h=n<0?360+n:n,o(i)}function Fe(e){var t=o(e).toHsl();return t.h=(t.h+180)%360,o(t)}function ie(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var i=o(e).toHsl(),n=[o(e)],a=360/t,r=1;r<t;r++)n.push(o({h:(i.h+r*a)%360,s:i.s,l:i.l}));return n}function Ie(e){var t=o(e).toHsl(),i=t.h;return[o(e),o({h:(i+72)%360,s:t.s,l:t.l}),o({h:(i+216)%360,s:t.s,l:t.l})]}function Oe(e,t,i){t=t||6,i=i||30;var n=o(e).toHsl(),a=360/i,r=[o(e)];for(n.h=(n.h-(a*t>>1)+720)%360;--t;)n.h=(n.h+a)%360,r.push(o(n));return r}function Ne(e,t){t=t||6;for(var i=o(e).toHsv(),n=i.h,a=i.s,r=i.v,s=[],l=1/t;t--;)s.push(o({h:n,s:a,v:r})),r=(r+l)%1;return s}o.mix=function(e,t,i){i=i===0?0:i||50;var n=o(e).toRgb(),a=o(t).toRgb(),r=i/100,s={r:(a.r-n.r)*r+n.r,g:(a.g-n.g)*r+n.g,b:(a.b-n.b)*r+n.b,a:(a.a-n.a)*r+n.a};return o(s)};o.readability=function(e,t){var i=o(e),n=o(t);return(Math.max(i.getLuminance(),n.getLuminance())+.05)/(Math.min(i.getLuminance(),n.getLuminance())+.05)};o.isReadable=function(e,t,i){var n=o.readability(e,t),a,r;switch(r=!1,a=qe(i),a.level+a.size){case"AAsmall":case"AAAlarge":r=n>=4.5;break;case"AAlarge":r=n>=3;break;case"AAAsmall":r=n>=7;break}return r};o.mostReadable=function(e,t,i){var n=null,a=0,r,s,l,h;i=i||{},s=i.includeFallbackColors,l=i.level,h=i.size;for(var u=0;u<t.length;u++)r=o.readability(e,t[u]),r>a&&(a=r,n=o(t[u]));return o.isReadable(e,n,{level:l,size:h})||!s?n:(i.includeFallbackColors=!1,o.mostReadable(e,["#fff","#000"],i))};var j=o.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},ze=o.hexNames=Ue(j);function Ue(e){var t={};for(var i in e)e.hasOwnProperty(i)&&(t[e[i]]=i);return t}function re(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function c(e,t){$e(e)&&(e="100%");var i=Ve(e);return e=Math.min(t,Math.max(0,parseFloat(e))),i&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function P(e){return Math.min(1,Math.max(0,e))}function d(e){return parseInt(e,16)}function $e(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function Ve(e){return typeof e=="string"&&e.indexOf("%")!=-1}function p(e){return e.length==1?"0"+e:""+e}function S(e){return e<=1&&(e=e*100+"%"),e}function ae(e){return Math.round(parseFloat(e)*255).toString(16)}function ne(e){return d(e)/255}var g=(function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",i="(?:"+t+")|(?:"+e+")",n="[\\s|\\(]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")\\s*\\)?",a="[\\s|\\(]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")\\s*\\)?";return{CSS_UNIT:new RegExp(i),rgb:new RegExp("rgb"+n),rgba:new RegExp("rgba"+a),hsl:new RegExp("hsl"+n),hsla:new RegExp("hsla"+a),hsv:new RegExp("hsv"+n),hsva:new RegExp("hsva"+a),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}})();function m(e){return!!g.CSS_UNIT.exec(e)}function Ge(e){e=e.replace(Me,"").replace(Se,"").toLowerCase();var t=!1;if(j[e])e=j[e],t=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var i;return(i=g.rgb.exec(e))?{r:i[1],g:i[2],b:i[3]}:(i=g.rgba.exec(e))?{r:i[1],g:i[2],b:i[3],a:i[4]}:(i=g.hsl.exec(e))?{h:i[1],s:i[2],l:i[3]}:(i=g.hsla.exec(e))?{h:i[1],s:i[2],l:i[3],a:i[4]}:(i=g.hsv.exec(e))?{h:i[1],s:i[2],v:i[3]}:(i=g.hsva.exec(e))?{h:i[1],s:i[2],v:i[3],a:i[4]}:(i=g.hex8.exec(e))?{r:d(i[1]),g:d(i[2]),b:d(i[3]),a:ne(i[4]),format:t?"name":"hex8"}:(i=g.hex6.exec(e))?{r:d(i[1]),g:d(i[2]),b:d(i[3]),format:t?"name":"hex"}:(i=g.hex4.exec(e))?{r:d(i[1]+""+i[1]),g:d(i[2]+""+i[2]),b:d(i[3]+""+i[3]),a:ne(i[4]+""+i[4]),format:t?"name":"hex8"}:(i=g.hex3.exec(e))?{r:d(i[1]+""+i[1]),g:d(i[2]+""+i[2]),b:d(i[3]+""+i[3]),format:t?"name":"hex"}:!1}function qe(e){var t,i;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),i=(e.size||"small").toLowerCase(),t!=="AA"&&t!=="AAA"&&(t="AA"),i!=="small"&&i!=="large"&&(i="small"),{level:t,size:i}}var C=class extends v{rootStyle;constructor(){super("header_color",{author:"legopitstop",category:"interface"})}update(){if(this.rootStyle&&this.rootStyle.delete(),SettingsProfile.selected==null){this.rootStyle=Blockbench.addCSS(":root{--color-header-bg:var(--color-frame);--color-header-text:var(--color-text);--filter-corner-logo:unset;}");return}let t=markerColors[SettingsProfile.selected.color].standard,i=o.mostReadable(new o(t),["#333","#ddd"]).toHexString(),n=i=="#333333"?"invert(100%) sepia(0%) saturate(6873%) hue-rotate(217deg) brightness(113%) contrast(73%)":"invert(19%) sepia(10%) saturate(12%) hue-rotate(314deg) brightness(98%) contrast(96%)";this.rootStyle=Blockbench.addCSS(`:root{--color-header-bg:${t};--color-header-text:${i};--filter-corner-logo:${n};}`)}onEnable(){this.update();let t="div#corner_logo{filter:var(--filter-corner-logo);}header{background-color:var(--color-header-bg)}header>*{color:var(--color-header-text) !important;}",i=Blockbench.on("profile_changed",this.update.bind(this)),n=Blockbench.on("hide_dialog",({id:a})=>{a==="settings_profile"&&this.update()});this.deleteables.push(Blockbench.addCSS(t),i,n)}onDisable(){this.rootStyle&&this.rootStyle.delete()}};new C;var T=class extends v{constructor(){super("close_actions",{author:"legopitstop",category:"interface"})}closeAllProjects(){Blockbench.showQuickMessage("Closing all projects\u2026"),x([...ModelProject.all],t=>{!t||t.pinned||t.close(!1,!1)})}closeSavedProjects(){Blockbench.showQuickMessage("Closing saved projects\u2026"),x([...ModelProject.all],t=>{!t||!t.saved||t.pinned||t.close(!1,!1)})}closeRightProjects(){if(Blockbench.showQuickMessage("Closing projects to right\u2026"),!Project)return;let t=ModelProject.all.indexOf(Project);x([...ModelProject.all],(i,n)=>{!i||n<=t||i.pinned||i.close(!1,!1)})}closeOtherProjects(){if(Blockbench.showQuickMessage("Closing other projects\u2026"),!Project)return;let t=Project.uuid;x([...ModelProject.all],i=>{!i||t==i.uuid||i.pinned||i.close(!1,!1)})}onEnable(){var t=new Action("close_others",{icon:"close",condition:()=>ModelProject.all.length>1,click:this.closeOtherProjects.bind(this)}),i=new Action("close_right",{icon:"tab_close_right",condition:()=>Project&&ModelProject.all.indexOf(Project)!=ModelProject.all.length-1,click:this.closeRightProjects.bind(this)}),n=new Action("close_saved",{icon:"tab_close_inactive",condition:()=>ModelProject.all.length>1,click:this.closeSavedProjects.bind(this)}),a=new Action("close_all",{icon:"tab_close",condition:()=>ModelProject.all.length>1,click:this.closeAllProjects.bind(this)});ModelProject.prototype.menu.addAction(t,"#manage"),ModelProject.prototype.menu.addAction(i,"#manage"),ModelProject.prototype.menu.addAction(n,"#manage"),ModelProject.prototype.menu.addAction(a,"#manage"),this.deleteables.push(t,i,n,a)}};new T;var R=class e extends v{static originalClose;constructor(){super("pin_tab",{author:"legopitstop",category:"interface"})}static sort(){ModelProject.all=ModelProject.all.sort((t,i)=>t.pinned&&!i.pinned?-1:!t.pinned&&i.pinned?1:0)}static pinTab(){Blockbench.showQuickMessage("Pinned Tab!"),Project&&(Project.pinned=!0,e.sort(),$(".project_tab.selected .project_tab_close_button .close_icon").text("push_pin"))}static unpinTab(){Blockbench.showQuickMessage("Unpinned Tab!"),Project&&(Project.pinned=!1,e.sort(),$(".project_tab.selected .project_tab_close_button .close_icon").text("clear"))}onClose(t,i=!0){if(!t&&i&&Project?.pinned){e.unpinTab();return}return e.originalClose.bind(this)(t)}onEnable(){let t=Blockbench.addCSS('.project_tab.selected .project_tab_close_button .close_icon[content=""] { background-color: red;}');ModelProject.prototype.pinned=!1;var i=new Action("pin_tab",{icon:"push_pin",condition:()=>Project&&!Project.pinned,click:e.pinTab}),n=new Action("unpin_tab",{icon:"push_pin",condition:()=>Project&&Project.pinned,click:e.unpinTab});ModelProject.prototype.menu.addAction(i,"#manage"),ModelProject.prototype.menu.addAction(n,"#manage"),e.originalClose=ModelProject.prototype.close,ModelProject.prototype.close=this.onClose,this.deleteables.push(i,n,t)}onDisable(){delete ModelProject.prototype.pinned,e.originalClose&&(ModelProject.prototype.close=e.originalClose)}};new R;var H=class extends v{css;constructor(){super("wrap_tabs",{author:"legopitstop",category:"interface"})}onEnable(){this.deleteables.push(Blockbench.addCSS("#tab_bar #tab_bar_list{overflow-y:none;scrollbar-width:auto;flex-wrap:wrap;}#tab_bar{height:auto;align-items:center;}#tab_bar .project_tab{height:32px}#search_tab_button{height:auto;}"))}};new H;var Qe=[];BBPlugin.register(w,{title:"Tweaks & Stuff",author:"legopitstop",icon:"icon.png",description:"Adds a few tweaks to Blockbench to make your modeling experience better.",has_changelog:!0,website:"https://docs.lpsmods.dev/tweaks_n_stuff",repository:"https://github.com/legopitstop/blockbench-plugins/tree/master/src/tweaks_n_stuff",variant:"both",version:X,min_version:"4.8.0",tags:["Blockbench"],new_repository_format:!0,oninstall(){b.all.forEach(e=>e.install())},onuninstall(){b.all.forEach(e=>e.uninstall())},onload(){M.load(),y.load(),b.all.forEach(e=>e.load()),b.all.size==0&&console.warn("No tweaks registered!")},onunload(){M.unload(),b.all.forEach(e=>e.unload()),Qe.forEach(e=>e?.delete())}});
